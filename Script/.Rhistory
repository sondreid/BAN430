}
df  %>%
mutate(DATE = as.Date(DATE))  %>%
filter(year(DATE) >= 1995)
for(i in column.names){
if (i == "Series ID:") {
print(i)
}
}
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
for (i in 1:nrow(column.names)){
print(column.names[[1]][i])
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i])
}
}
df  %>%
mutate(DATE = as.Date(DATE))  %>%
filter(year(DATE) >= 1995)
for(i in column.names){
if (i == "Series ID:") {
print(i)
}
}
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
for (i in 1:nrow(column.names)){
print(column.names[[1]][i])
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i])
}
}
df  %>%
mutate(DATE = as.Date(DATE))  %>%
filter(year(DATE) >= 1995)
for(i in column.names){
if (i == "Series ID:") {
print(i)
}
}
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
for (i in 1:nrow(column.names)){
print(column.names[[1]][i])
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i])
}
}
df  %>%
mutate(DATE = as.Date(DATE))  %>%
filter(year(DATE) >= 1995)
for(i in column.names){
if (i == "Series ID:") {
print(i)
}
}
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
for (i in 1:nrow(column.names)){
print(column.names[[1]][i])
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i])
}
}
df  %>%
mutate(DATE = as.Date(DATE))  %>%
filter(year(DATE) >= 1995)
for(i in column.names){
if (i == "Series ID:") {
print(i)
}
}
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
for (i in 1:nrow(column.names)){
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i])
}
}
df  %>%
mutate(DATE = as.Date(DATE))  %>%
filter(year(DATE) >= 1995)
for(i in column.names){
if (i == "Series ID:") {
print(i)
}
}
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
for (i in 1:nrow(column.names)){
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i])
}
}
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
for (i in 1:nrow(column.names)){
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i+1])
}
}
df %>% rename(c("Date"))
df
df %>% rename(c("DATE"))
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c("Date")
for (i in 1:nrow(column.names)){
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i+3])
clear_names <- c(clear_names, column.names[[1]][i+3])
}
}
colnames(df) <- clear_names
df
View(df)
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c("Date")
for (i in 1:nrow(column.names)){
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i+3])
clear_names <- c(clear_names, column.names[[1]][i+3])
}
}
colnames(df) <- clear_names
df  %>%
mutate(Date = as.Date(Date))  %>%
filter(year(Date) >= 1995)
df
year()
year(df$Date)
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c("Date")
for (i in 1:nrow(column.names)){
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i+3])
clear_names <- c(clear_names, column.names[[1]][i+3])
}
}
colnames(df) <- clear_names
df  %>%
mutate(Date = as.Date(Date))  %>%
filter(year(Date) >= 1995)
df
View(df)
View(column.names)
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c(   "Date",
"seasonal_unemp_men",
"seasonal_unemp_men",
"seasonal_unemp_less_high_school",
"seasonal_unemp_high_school",
"seasonal_unemp_college",
"unemp_level",
"unemp_men" ,
"unemp_women",
"unemp_less_high_school",
"unemp_high_school",
"unemp_college",
"seasonal_unemp_level")
colnames(df) <- clear_names
df  %>%
mutate(Date = as.Date(Date))  %>%
filter(year(Date) >= 1995)
df
View(df)
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c(   "Date",
"seasonal_unemp_men",
"seasonal_unemp_men",
"seasonal_unemp_less_high_school",
"seasonal_unemp_high_school",
"seasonal_unemp_college",
"unemp_level",
"unemp_men" ,
"unemp_women",
"unemp_less_high_school",
"unemp_high_school",
"unemp_college",
"seasonal_unemp_level")
colnames(df) <- clear_names
df  %>%
mutate(Date = as.Date(Date))
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c(   "date",
"seasonal_unemp_men",
"seasonal_unemp_men",
"seasonal_unemp_less_high_school",
"seasonal_unemp_high_school",
"seasonal_unemp_college",
"unemp_level",
"unemp_men" ,
"unemp_women",
"unemp_less_high_school",
"unemp_high_school",
"unemp_college",
"seasonal_unemp_level")
colnames(df) <- clear_names
df  %>%
mutate(date = as.Date(Date))
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c(   "date",
"seasonal_unemp_men",
"seasonal_unemp_men",
"seasonal_unemp_less_high_school",
"seasonal_unemp_high_school",
"seasonal_unemp_college",
"unemp_level",
"unemp_men" ,
"unemp_women",
"unemp_less_high_school",
"unemp_high_school",
"unemp_college",
"seasonal_unemp_level")
colnames(df) <- clear_names
df  %>%
mutate(date = as.Date(date))  %>%
filter(year(Date) >= 1995)
df
colanmes(df)
colnames(df)
colnames(df) %>% unique()
diff(colnames(df) %>% unique(), colnames(df))
setdiff(colnames(df) %>% unique() - colnames(df))
setdiff(colnames(df) %>% unique(), colnames(df))
setdiff(c(colnames(df) %>% unique()), c(colnames(df))
)
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c(   "month",
"seasonal_unemp_men",
"seasonal_unemp_women",
"seasonal_unemp_less_high_school",
"seasonal_unemp_high_school",
"seasonal_unemp_college",
"unemp_level",
"unemp_men" ,
"unemp_women",
"unemp_less_high_school",
"unemp_high_school",
"unemp_college",
"seasonal_unemp_level")
colnames(df) <- clear_names
df  %>%
mutate(date = as.Date(date))  %>%
filter(year(date) >= 1995)
df
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c(   "date",
"seasonal_unemp_men",
"seasonal_unemp_women",
"seasonal_unemp_less_high_school",
"seasonal_unemp_high_school",
"seasonal_unemp_college",
"unemp_level",
"unemp_men" ,
"unemp_women",
"unemp_less_high_school",
"unemp_high_school",
"unemp_college",
"seasonal_unemp_level")
colnames(df) <- clear_names
unemployment <- df  %>%
mutate(date = as.Date(date))  %>%
filter(year(date) >= 1995)   %>%
select(date, unemp_level)  %>%
tsibble()
unemployment_seasonaladj <- df  %>%
mutate(date = as.Date(date))  %>%
filter(year(date) >= 1995)   %>%
select(date, unemp_level)  %>%
tsibble()
unemployment  %>%
autoplot()
for (i in 1:nrow(column.names)){
if (column.names[[1]][i] == "Series ID:"){
print(column.names[[1]][i+3])
clear_names <- c(clear_names, column.names[[1]][i+3])
}
}
### Libraries ----
library(fpp3)
library(readxl)
df <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 2)
column.names <- read_xls("../Data/US/Forecasting_economic_data.xls", sheet = 1)  %>%
na.omit()
clear_names <- c(   "date",
"seasonal_unemp_men",
"seasonal_unemp_women",
"seasonal_unemp_less_high_school",
"seasonal_unemp_high_school",
"seasonal_unemp_college",
"unemp_level",
"unemp_men" ,
"unemp_women",
"unemp_less_high_school",
"unemp_high_school",
"unemp_college",
"seasonal_unemp_level")
colnames(df) <- clear_names
unemployment <- df  %>%
mutate(date = as.Date(date))  %>%
filter(year(date) >= 1995)   %>%
select(date, unemp_level)  %>%
tsibble()
unemployment_seasonaladj <- df  %>%
mutate(date = as.Date(date))  %>%
filter(year(date) >= 1995)   %>%
select(date, seasonal_unemp_level)  %>%
tsibble()
unemployment  %>%
autoplot(col = "blue") +
autolayer(unemployment_seasonaladj, col = "red") +
theme_classic() +
labs(   title = "Unemployment in USA",
subtitle = "Seasonal adj. vs non adj.",
y = "Unemployment level",
x = "Months") +
guides(col = guide_legend(title = "Series"))
unemployment %>%
ggplot() +
geom_line(aes(x = date, y = unemp_level)) +
geom_line(aes(x = date, y = unemployment_seasonaladj), data = unemployment_seasonaladj)
unemployment %>%
ggplot(aes(x = date, y = unemp_level)) +
geom_line() +
geom_line(aes(x = date, y = unemployment_seasonaladj), data = unemployment_seasonaladj)
unemployment %>%
ggplot(aes(x = date, y = unemp_level)) +
geom_line() +
geom_line(mapping = aes(x = date, y = unemployment_seasonaladj), data = unemployment_seasonaladj)
unemployment %>%
ggplot(aes(x = date, y = unemp_level)) +
geom_line() +
unemployment %>%
ggplot(aes(x = date, y = unemp_level)) +
geom_line()
unemployment %>%
ggplot(aes(x = date, y = unemp_level)) +
geom_line() +
geom_line(mapping = aes(x = date, y = unemployment_seasonaladj), data = unemployment_seasonaladj)
unemployment %>%
ggplot(aes(x = date, y = unemp_level)) +
geom_line()
unemployment %>%
ggplot(aes(x = date, y = unemp_level)) +
geom_line() +
geom_line(mapping = aes(x = date, y = unemployment_seasonaladj), data = unemployment_seasonaladj)
unemployment %>%
ggplot() +
geom_line(aes(x = date, y = unemp_level)) +
geom_line(mapping = aes(x = date, y = unemployment_seasonaladj), data = unemployment_seasonaladj)
df %>%
mutate(date = as.Date(date)) %>%
filter(year(date) >= 1995) %>%
ggplot() +
geom_line(aes(x = date, y = unemp_level, col = "red")) +
geom_line(aes(x = date, y = unemployment_seasonaladj, col = "blue"))
rlang::last_error()
df %>%
mutate(date = as.Date(date)) %>%
filter(year(date) >= 1995) %>%
ggplot() +
geom_smooth(aes(x = date, y = unemp_level, col = "red"))
df %>%
mutate(date = as.Date(date)) %>%
filter(year(date) >= 1995) %>%
ggplot() +
geom_smooth(aes(x = date, y = unemp_level, col = "red")) +
geom_smooth(aes(x = date, y = unemployment_seasonaladj, col = "blue"))
df %>%
mutate(date = as.Date(date)) %>%
filter(year(date) >= 1995) %>%
ggplot() +
geom_line(aes(x = date, y = unemp_level, col = "red"))
df %>%
mutate(date = as.Date(date)) %>%
filter(year(date) >= 1995) %>%
ggplot() +
geom_line(aes(x = date, y = unemp_level, col = "Unadjusted seasonal")) +
geom_line(aes(x = date, y = seasonal_unemp_level, col = "Adjusted seasonal"))
df %>%
mutate(date = as.Date(date)) %>%
filter(year(date) >= 1995) %>%
ggplot() +
geom_line(aes(x = date, y = unemp_level, col = "Unadjusted seasonal")) +
geom_line(aes(x = date, y = seasonal_unemp_level, col = "Adjusted seasonal")) +
labs(   title = "Unemployment in USA",
subtitle = "Seasonal adj. vs non adj.",
y = "Unemployment level",
x = "Months") +
guides(colours = guide_legend(title = "Series:"))
df %>%
mutate(date = as.Date(date)) %>%
filter(year(date) >= 1995) %>%
ggplot() +
geom_line(aes(x = date, y = unemp_level, col = "Unadjusted seasonal")) +
geom_line(aes(x = date, y = seasonal_unemp_level, col = "Adjusted seasonal")) +
labs(   title = "Unemployment in USA",
subtitle = "Seasonal adj. vs non adj.",
y = "Unemployment level",
x = "Months") +
guides(col = guide_legend(title = "Series:"))
unemployment <- df  %>%
mutate(date = as.Date(date))  %>%
filter(year(date) >= 1995)   %>%
select(date, unemp_level, seasonal_unemp_level)  %>%
tsibble()
unemployment %>%
ggplot() +
geom_line(aes(x = date, y = unemp_level, col = "Unadjusted seasonal")) +
geom_line(aes(x = date, y = seasonal_unemp_level, col = "Adjusted seasonal")) +
labs(   title = "Unemployment in USA",
subtitle = "Seasonal adj. vs non adj.",
y = "Unemployment level",
x = "Months") +
guides(col = guide_legend(title = "Series:"))
unemployment  %>%
model("Additive" = ETS(unemp_level))
View(unemployment)
View(unemployment)
sapply(unemployment, class)
sapply(unemployment, class)
unemployment  %>%
model(additive = classical_decomposition(unemp_level, type = "additive"))
help(accuracy)
View(unemployment_seasonaladj)
length(unemployment$date %>% unique())
unemployment$date %>% unique()
df_ts <- ts(df)
df_ts %>% model(Mean = MEAN(unemp_level))
df_ts
df_ts %>% autoplot()
library(ggfortify)
df_ts %>% autoplot()¨'
df_ts %>% autoplot()¨
df_ts %>% autoplot()
help(model)
help(accuracy)
View(unemployment)
